# 2024年3月
## 1日
### 学習内容
- テストでfactoryを使うとき、stateを使うと個別の設定ができる。
- factoryでbelongs_to関連を作るとき
  ```
    'user_id' => User::factory(), で作る
  　　　　　// 以下にすると余計にユーザが作られる。
    'user_id' => User::factory()->create()->id, 
  ``` 
- 指定する場合は以下のような書き方ができる
  ```
  $taro = User::factory()->create(['name' => 'taro']);
  $posts = Post::factory(2)->for($taro)->create();
  ```
- 複数のユーザが複数のポストを持つとき
  ```
  $users = User::factory(3)->create()->each(function ($user) {
    Post::factory(random_int(2, 3))->for($user)->create();
  });
  ```
- DB には登録せずにモデルのインスタンスだけを返す ->make() というメソッドを利用して次のように書くことができます。
  ```
  // 例
  $post = Post::factor()->make();
  // Post は DB に登録されていないが、裏で User は DB に登録される等。
  ```
- ポイントとしては、->actingAs($user) の箇所です。この記述で、ログインした事にしてくれます。
- 

### コメント

## 2日
### 学習内容
- assertDatabaseCount のようにそれ専用のメソッドが用意されている時は、それ専用のメソッドを使った方が、テストに失敗した際により分かり易い（or デバッグし易い）情報が出力されたりもしますので、なるべくそれ専用のメソッドを使うと良いです。
- $post->fresh()->title のように fresh() が挟まっていますが、これは、DB から最新のデータを引っ張ってくる為のメソッドです。もしこれが無いと、Post::factory()->create() で生成した際のデータのままになってしまいます。そうするとテストの意味がありません。
- チェックする項目が多い時は、fresh() は、能率的ではありません。fresh() ではなく代わりに refresh() を使って下記のようにするとDB へのアクセスは一度で済みます。refresh() を使うと、自分自身（ここでは $post）が最新の DB 内容に置き換わります。
- 
### コメント

## 3日
### 学習内容

### コメント

## 4日
### 学習内容

### コメント

## 5日
### 学習内容

### コメント

## 6日
### 学習内容

### コメント

## 7日
### 学習内容

### コメント

## 8日
### 学習内容

### コメント

## 9日
### 学習内容

### コメント

## 10日
### 学習内容

### コメント

## 11日
### 学習内容

### コメント

## 12日
### 学習内容

### コメント

## 13日
### 学習内容

### コメント

## 14日
### 学習内容

### コメント

## 15日
### 学習内容

### コメント

## 16日
### 学習内容

### コメント

## 17日
### 学習内容

### コメント

## 18日
### 学習内容

### コメント

## 19日
### 学習内容

### コメント

## 20日
### 学習内容

### コメント

## 21日
### 学習内容

### コメント

## 22日
### 学習内容

### コメント

## 23日
### 学習内容

### コメント

## 24日
### 学習内容

### コメント

## 25日
### 学習内容

### コメント

## 26日
### 学習内容

### コメント

## 27日
### 学習内容

### コメント

## 28日
### 学習内容

### コメント

## 29日
### 学習内容

### コメント

## 30日
### 学習内容

### コメント

## 31日
### 学習内容

### コメント
