# 3章 文法
## 文字列
### ヒアドキュメント
- 終端を示す識別子の前にはスペースなどの文字を記述してはいけないというルールがある。→終端は行頭に記述する。
  - これを回避するためには開始の識別子の先頭に-をつける
- シングルクォートで囲んだときは式展開やバックスラッシュ記法が無効となる。
```
irb(main):263:0" query = <<SQL
irb(main):264:0" select *frommy_table;
irb(main):265:0> SQL
=> "select *frommy_table; \n"
irb(main):267:0> query
=> "select *frommy_table; \n"
```

### 文字列演算
- <<メソッド（破壊的メソッド）
  ```
  irb(main):268:0> a= "ru"
  => "ru"
  irb(main):269:0> p a << "by"
  "ruby"
  => "ruby"
  ```
## シンボル
### eql?メソッドと==
eql?メソッドは型もとらえるので、一般的に==より厳密に値の比較を行う

## 配列
第２引数で指定した初期値オブジェクトはすべて同一のオブジェクト
```
irb(main):279:0> a=Array.new(2, "a")
=> ["a", "a"]
irb(main):280:0> a[0].replace("b")
=> "b"
irb(main):281:0> p a
["b", "b"]
=> ["b", "b"]# ["b","a"]とはならない
```
これを避けるためにはブロックを使う
```
irb(main):282:0> a=Array.new(2){"a"}
=> ["a", "a"]
irb(main):283:0> a[0].replace("b")
=> "b"
irb(main):284:0> p a
["b", "a"]
=> ["b", "a"]
```
添字に２つの整数を指定すると最初の添え字が操作対象のインデックス、次の添え字がそこからの要素数となる。
```
irb(main):285:0> a = [1,2,3,4,5]
=> [1, 2, 3, 4, 5]
irb(main):286:0> a[2, 3]
=> [3, 4, 5]
```
多重代入
```
irb(main):287:0> a,b,c = 1,2
=> [1, 2]
irb(main):288:0> p c
nil
=> nil
```
可変長引数
余った値は配列として代入される
```
irb(main):294:0> a, *b =1,2,3
=> [1, 2, 3]
irb(main):296:0> p a
1
=> 1
irb(main):297:0> p b
[2, 3]
=> [2, 3]
```
*演算子*
文字列の場合joinメソッドと同じ動きをする
```
irb(main):298:0> [1,2,3] * "-"
=> "1-2-3"
irb(main):299:0> [1,2,3].join("-")
=> "1-2-3"
```

## ハッシュ
デフォルト値の設定
```
irb(main):333:0> a = Hash.new(5)
=> {}
irb(main):334:0> a[:f]
=> 5
irb(main):335:0> p a
{}
=> {}
```
ハッシュの生成
- []メソッド
- to_hメソッド
```
irb(main):341:0> a = Hash[:f1,1,:f2,2]
=> {:f1=>1, :f2=>2}
irb(main):342:0> p a
{:f1=>1, :f2=>2}
=> {:f1=>1, :f2=>2}
irb(main):343:0> a= [[:f1,1],[:f2, 2]].to_h
=> {:f1=>1, :f2=>2}
irb(main):344:0> p a
{:f1=>1, :f2=>2}
=> {:f1=>1, :f2=>2}
```











